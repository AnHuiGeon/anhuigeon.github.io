{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/blog/Gatsby-블로그[2-10] /",
    "result": {"data":{"site":{"siteMetadata":{"title":"blog | HuiGeon An","author":"HuiGeon An"}},"markdownRemark":{"id":"0bebe4c8-2910-5aa1-b793-30c7153eeb0d","excerpt":"Gatsby 프로젝트 생성과 Github Action으로 자동배포 설정 cmd창을 열고  명령어를 입력하여 자신에게 필요한 항목을 체크하여 프로젝트를 생성합니다. ![GatsbyBlogImage2](../images/gatsby-blog[2] (1).png…","html":"<h2>Gatsby 프로젝트 생성과 Github Action으로 자동배포 설정</h2>\n<hr>\n<p>cmd창을 열고 <code class=\"language-text\">npm init gatsby</code> 명령어를 입력하여 자신에게 필요한 항목을 체크하여 프로젝트를 생성합니다.</p>\n<p>![GatsbyBlogImage2](../images/gatsby-blog[2] (1).png)</p>\n<p>위 과정을 거치면 <code class=\"language-text\">./프로젝트명</code> 으로 프로젝트 폴더가 생성됩니다.</p>\n<p>이제 github에 Repository를 생성하는데, Repository명은 블로그이름.github.io로 작성하고, git bash를 열어 방금 생성한 프로젝트 폴더로 이동하여 아래의 순서대로 입력합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">echo <span class=\"token string\">\"# anhuigeon.github.io\"</span> <span class=\"token operator\">>></span> <span class=\"token constant\">README</span><span class=\"token punctuation\">.</span>md\ngit init\ngit add <span class=\"token constant\">README</span><span class=\"token punctuation\">.</span>md\ngit commit <span class=\"token operator\">-</span>m <span class=\"token string\">\"[커밋 내용]\"</span>\ngit branch <span class=\"token operator\">-</span><span class=\"token constant\">M</span> main\ngit remote add origin <span class=\"token punctuation\">[</span>레포지터리 <span class=\"token constant\">URL</span><span class=\"token punctuation\">]</span>\ngit push <span class=\"token operator\">-</span>u origin main</code></pre></div>\n<p>이제 github에 첫번째 commit을 완료했습니다.</p>\n<p>github action에 workflow를 생성하기 전, 우측 상단의 자신의 계정 아이콘을 클릭하고, Settings로 이동합니다.</p>\n<p>![GatsbyBlogImage2](../images/gatsby-blog[2] (2).png)</p>\n<p>그리고 Personal access tokens에서 token을 생성하고 복사해줍니다.</p>\n<p>![GatsbyBlogImage2](../images/gatsby-blog[2] (3).png)</p>\n<p>다시 아까 생성한 repo로 돌아와 Settings > Secrets > Dependabot으로 이동하여 New repository secret을 눌러 발급 받은 토큰을 입력합니다.</p>\n<p>![GatsbyBlogImage2](../images/gatsby-blog[2] (4).png)</p>\n<p>다음으로 github action에 workflow를 생성합니다.</p>\n<p>![GatsbyBlogImage2](../images/gatsby-blog[2] (5).png)</p>\n<p>Start commit 하면 아래와 같이 .yml파일이 생성됩니다.</p>\n<p>![GatsbyBlogImage2](../images/gatsby-blog[2] (6).png</p>\n<p>다음으로는 git bash에서 pull하여 .yml 파일이 추가된 것을 확인하고 여러 작업을 한 뒤 push 하고 다시 git bash로 이동하여 아래의 명령어를 입력합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">git branch dev\ngit checkout dev\ngit pull origin main\ncode <span class=\"token punctuation\">.</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> vscode가 열립니다<span class=\"token punctuation\">.</span></code></pre></div>\n<p>열린 vscode에 가보면 .github/workflows 폴더에 main.yml파일이 생성 된 것을 확인할 수 있습니다.\n이제 메인 화면을 보여주는 index.js파일을 수정하고, main.yml을 본인에게 필요한 명령어를 입력해줍니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">IndexPage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      index.js\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> IndexPage</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> gatsby deploy\n\n<span class=\"token literal-property property\">on</span><span class=\"token operator\">:</span>\n  <span class=\"token literal-property property\">push</span><span class=\"token operator\">:</span>\n    <span class=\"token literal-property property\">branches</span><span class=\"token operator\">:</span>\n      <span class=\"token operator\">-</span> dev\n\n<span class=\"token literal-property property\">jobs</span><span class=\"token operator\">:</span>\n  <span class=\"token literal-property property\">build</span><span class=\"token operator\">:</span>\n    runs<span class=\"token operator\">-</span>on<span class=\"token operator\">:</span> ubuntu<span class=\"token operator\">-</span>latest\n    <span class=\"token literal-property property\">steps</span><span class=\"token operator\">:</span>\n      <span class=\"token operator\">-</span> uses<span class=\"token operator\">:</span> actions<span class=\"token operator\">/</span>checkout@v1\n      <span class=\"token operator\">-</span> name<span class=\"token operator\">:</span> Setup Node\n        <span class=\"token literal-property property\">uses</span><span class=\"token operator\">:</span> actions<span class=\"token operator\">/</span>setup<span class=\"token operator\">-</span>node@v1\n        <span class=\"token keyword\">with</span><span class=\"token operator\">:</span>\n          node<span class=\"token operator\">-</span>version<span class=\"token operator\">:</span> <span class=\"token string\">'14.x'</span>\n\n      <span class=\"token operator\">-</span> name<span class=\"token operator\">:</span> Cache node_modules\n        <span class=\"token literal-property property\">uses</span><span class=\"token operator\">:</span> actions<span class=\"token operator\">/</span>cache@v1\n        <span class=\"token keyword\">with</span><span class=\"token operator\">:</span>\n          <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> node_modules\n          <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>runner<span class=\"token punctuation\">.</span><span class=\"token constant\">OS</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">-</span>build<span class=\"token operator\">-</span>$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span><span class=\"token function\">hashFiles</span><span class=\"token punctuation\">(</span><span class=\"token string\">'**/yarn.lock'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          restore<span class=\"token operator\">-</span>keys<span class=\"token operator\">:</span> <span class=\"token operator\">|</span>\n            $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> runner<span class=\"token punctuation\">.</span><span class=\"token constant\">OS</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">-</span>build<span class=\"token operator\">-</span>$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> runner<span class=\"token punctuation\">.</span><span class=\"token constant\">OS</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">-</span>\n\n      <span class=\"token operator\">-</span> name<span class=\"token operator\">:</span> Install dependencies\n        <span class=\"token literal-property property\">run</span><span class=\"token operator\">:</span> yarn install <span class=\"token operator\">--</span>prod <span class=\"token operator\">--</span>pure<span class=\"token operator\">-</span>lockfile\n        \n      <span class=\"token operator\">-</span> name<span class=\"token operator\">:</span> Build\n        <span class=\"token literal-property property\">run</span><span class=\"token operator\">:</span> yarn build <span class=\"token operator\">--</span>prefix<span class=\"token operator\">-</span>paths\n        <span class=\"token literal-property property\">env</span><span class=\"token operator\">:</span>\n          <span class=\"token constant\">NODE_ENV</span><span class=\"token operator\">:</span> production\n      <span class=\"token operator\">-</span> uses<span class=\"token operator\">:</span> peaceiris<span class=\"token operator\">/</span>actions<span class=\"token operator\">-</span>gh<span class=\"token operator\">-</span>pages@v2\n        <span class=\"token literal-property property\">env</span><span class=\"token operator\">:</span>\n          <span class=\"token constant\">GITHUB_TOKEN</span><span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets<span class=\"token punctuation\">.</span><span class=\"token constant\">GITHUB_TOKEN</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token constant\">PUBLISH_BRANCH</span><span class=\"token operator\">:</span> main\n          <span class=\"token constant\">PUBLISH_DIR</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span><span class=\"token keyword\">public</span></code></pre></div>\n<p>다시 git bash로 이동하여 아래의 명령어를 입력하면 github action에서 빌드를 수행합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">git add <span class=\"token punctuation\">.</span>\ngit commit <span class=\"token operator\">-</span>m <span class=\"token string\">'커밋 내용'</span>\ngit push <span class=\"token operator\">-</span>u origin dev</code></pre></div>\n<p>![GatsbyBlogImage2](../images/gatsby-blog[2] (7).png)</p>\n<p>![GatsbyBlogImage2](../images/gatsby-blog[2] (8).png)</p>\n<p>![GatsbyBlogImage2](../images/gatsby-blog[2] (9).png)</p>\n<p>빌드가 모두 마치면, 이제 github action에 자신이 입력한 .yml파일이 gatsby프로젝트를 배포하여 https://[repo이름] 의 링크에서 아래와 같이 배포가 된 것을 확인할 수 있습니다.</p>\n<p>![GatsbyBlogImage2](../images/gatsby-blog[2] (10).png)</p>\n<p>이제 자유롭게 커스터마이징 하십시오!</p>\n<p>참고\ngithub action 사용법 - <a href=\"https://zzsza.github.io/development/2020/06/06/github-action/\">https://zzsza.github.io/development/2020/06/06/github-action/</a></p>","frontmatter":{"title":"Gatsby 프로젝트 생성과 Github Action으로 자동배포 설정","date":"2021, Nov 10","tags":["Blog","Gatsby","JAM stack","Github Action"],"img":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaUlEQVQoz12RTUiUURSG3+8bKlMX2Y+BWpGEVvjDTKkYamgWtYic48wIhYg6ppXVNClU/hUtzCylpGZQ8w/RwoUl4dAiUSjcBWcW0aZFq7BNmyLO0HjjfsxEdOBw7rn3nof35YBYConlLLG4iMVDLOeIpZhYQCxmNQvcb77Baw+i3LyNHPihlIIr/WGR1x48vQV1KReLR3GtYsLodD6HHnITSz6xdBNLH7E4iIUsYDhi6uoJrcHrCEKHhnU6Z0fGupbUWPeSGvKFvjTkPbU35gfgPzZpamArscwRyy1iuUEsL4jlugUORzQUnsU1tJY8s7UUDGulrok7y6rtxNTvC0Uj0lk1q5ocwRXf0XF48wOWwq3E0kEsj4llmFhuEstuYrlKLIlaoWv5O66Ujdsul4yhuWC4e6bvneqtm/9Vmz0UHe14G+2rf/kV2LEJKLOA7cQyQyx+YvERyzSx9BBLloY5P/y0rDYUDtjOZ82gZs9A5dzgqnq/8EkNtLyOaOv93lfzSkWxrqKGBlYRyz5i6SWWR8SyP3an32z4L1ZDH9F+arLriT/0Y8i3uN7vXVgpw92MtuTPOJxKNj10MLbdCmIpJZY6YsmJL+Uflobn6sPxAjfKMb2tMWFpF4AkAIb1wdhgWT4SU5VELNuJJV331SxZ1eEIMmta4lAPgCYAlQkbE3NhwA2g1LQZZwyYzQCyrSSWemJpIpaTxNJALDV/1YYjcPQE47ZrAVwCMA5g0IARMGDeAzAF4AGA+wACGriTWOzEkk0sebF6gFgytO20Smfc8mYAhwAkA8gEkAogBcBeAGmGaZYDRtEfmUNJlE7eHtYAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/3d474b3001dab5484276d9d19d4506ca/b0c60/gatsby-react.png","srcSet":"/static/3d474b3001dab5484276d9d19d4506ca/719b7/gatsby-react.png 750w,\n/static/3d474b3001dab5484276d9d19d4506ca/b0c60/gatsby-react.png 826w","sizes":"100vw"},"sources":[{"srcSet":"/static/3d474b3001dab5484276d9d19d4506ca/ab815/gatsby-react.avif 750w,\n/static/3d474b3001dab5484276d9d19d4506ca/d2b22/gatsby-react.avif 826w","type":"image/avif","sizes":"100vw"},{"srcSet":"/static/3d474b3001dab5484276d9d19d4506ca/bcae1/gatsby-react.webp 750w,\n/static/3d474b3001dab5484276d9d19d4506ca/1b77d/gatsby-react.webp 826w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.47699757869249393}}}}}},"pageContext":{"slug":"/Gatsby-블로그[2-10] /","previous":{"fields":{"slug":"/Gatsby-블로그/Gatsby-블로그[2-10]/Gatsby-블로그[2-10] /"},"frontmatter":{"title":"Gatsby 프로젝트 생성과 Github Action으로 자동배포 설정","tags":["Blog","Gatsby","JAM stack","Github Action"],"categories":"blog","img":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaUlEQVQoz12RTUiUURSG3+8bKlMX2Y+BWpGEVvjDTKkYamgWtYic48wIhYg6ppXVNClU/hUtzCylpGZQ8w/RwoUl4dAiUSjcBWcW0aZFq7BNmyLO0HjjfsxEdOBw7rn3nof35YBYConlLLG4iMVDLOeIpZhYQCxmNQvcb77Baw+i3LyNHPihlIIr/WGR1x48vQV1KReLR3GtYsLodD6HHnITSz6xdBNLH7E4iIUsYDhi6uoJrcHrCEKHhnU6Z0fGupbUWPeSGvKFvjTkPbU35gfgPzZpamArscwRyy1iuUEsL4jlugUORzQUnsU1tJY8s7UUDGulrok7y6rtxNTvC0Uj0lk1q5ocwRXf0XF48wOWwq3E0kEsj4llmFhuEstuYrlKLIlaoWv5O66Ujdsul4yhuWC4e6bvneqtm/9Vmz0UHe14G+2rf/kV2LEJKLOA7cQyQyx+YvERyzSx9BBLloY5P/y0rDYUDtjOZ82gZs9A5dzgqnq/8EkNtLyOaOv93lfzSkWxrqKGBlYRyz5i6SWWR8SyP3an32z4L1ZDH9F+arLriT/0Y8i3uN7vXVgpw92MtuTPOJxKNj10MLbdCmIpJZY6YsmJL+Uflobn6sPxAjfKMb2tMWFpF4AkAIb1wdhgWT4SU5VELNuJJV331SxZ1eEIMmta4lAPgCYAlQkbE3NhwA2g1LQZZwyYzQCyrSSWemJpIpaTxNJALDV/1YYjcPQE47ZrAVwCMA5g0IARMGDeAzAF4AGA+wACGriTWOzEkk0sebF6gFgytO20Smfc8mYAhwAkA8gEkAogBcBeAGmGaZYDRtEfmUNJlE7eHtYAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/3d474b3001dab5484276d9d19d4506ca/b0c60/gatsby-react.png","srcSet":"/static/3d474b3001dab5484276d9d19d4506ca/719b7/gatsby-react.png 750w,\n/static/3d474b3001dab5484276d9d19d4506ca/b0c60/gatsby-react.png 826w","sizes":"100vw"},"sources":[{"srcSet":"/static/3d474b3001dab5484276d9d19d4506ca/bcae1/gatsby-react.webp 750w,\n/static/3d474b3001dab5484276d9d19d4506ca/1b77d/gatsby-react.webp 826w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.47699757869249393}}}}},"next":null}},
    "staticQueryHashes": ["2397019667","764694655"]}